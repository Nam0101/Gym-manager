var QuickSearch;(function(n){function v(n){sb_st(function(){var d,g,u,l,v,p,ft,h,w,b,et,it,a,k,ot;if(s=null,NodeList.prototype.forEach||(NodeList.prototype.forEach=function(n,t){t=t||window;for(var i=0;i<this.length;i++)n.call(t,this[i],i,this)}),u=window.getSelection(),t=u.toString(),l=_ge("qs_searchBox"),v=f?_ge("mfa_root"):null,!f||v!=null){var ut,nt=!0;u!=null&&u.anchorNode!=null&&(ut=u.anchorNode.nodeValue||u.anchorNode.textContent,nt=!tt.some(function(n){return n!=null&&n!=undefined?n.contains(u.anchorNode):!1}),u.anchorNode.childNodes!=null&&u.anchorNode.childNodes.forEach(function(n){(n.nodeName==="INPUT"||n.nodeName==="TEXTAREA")&&(nt=!1)}));t.trim()!=""&&nt&&e&&t.trim().length<2048?(sj_log("CI.QuickSearch","Text_Selected",t),ft=[/(\d+) ((\w+[ ,])+ ){2}(\d){5}[, ] ((\w+[ ,]?)+[ ,]?){2}/g,/(\d+) ((\w+[ ,])+ ){2}(\d){5}-(\d){4}[, ] ((\w+[ ,]?)+[ ,]?){2}/g,/(\d+) (([\w#]+[ ,])+ ){2}([A-Z]){2} (\d){5}/g,/(\d+) ((\w+[ ,])+ ){2}(\w+){2}[ ,]{2}(\d){5}/g,/(\d+) ((\w+[ ,])+ ){2}([A-Z]){2} (\d){5}/g,/(\d+) ((\w+[ ,])+ ){2}(\d){5}[ ,] ([A-Z]){2}/g,/(\d+) ((\w+[ ,])+ ){2}([A-Z]){2}/g,/(\d+) ((\w+[ ,])+ ){2}(\d){5}/g].some(function(n){var i=String(ut).match(n)||String(t).match(n);return i!=null&&(p=i[0]),i!=null}),p!=null&&p.indexOf(t)!==-1&&ft&&sj_log("CI.QuickSearch","Address_Selected",p),c||l===null||(h=u.getRangeAt(0).getBoundingClientRect(),w=!1,!rt||h.top||h.bottom||(b=(d=u===null||u===void 0?void 0:u.getRangeAt(0))===null||d===void 0?void 0:d.startContainer,h=b===null||b===void 0?void 0:b.getBoundingClientRect(),w=!0),_ge("qs_selectedText").textContent=t,et=document.createElement("canvas"),it=et.getContext("2d"),it.font="bold "+window.getComputedStyle(document.body).font,a=it.measureText(t.trim()).width,k=null,k=n.clientX!=null?n.clientX-Math.min(a,o)-r>=h.left-r?n.clientX-Math.min(a,o)-r:h.left-r:_w.innerWidth-Math.min(a,o)-y<=h.left-r?_w.innerWidth-Math.min(a,o)-y:h.left-r,w&&n.clientX==null||(l.style.left=k+"px",l.style.top=w?n.clientY+window.pageYOffset+"px":h.bottom+window.pageYOffset+"px",l.style.display="inline-flex"),i!==null&&(ot=(g=document.getElementById("qs_searchBox"))===null||g===void 0?void 0:g.clientWidth,i.style.left=k+ot+"px",i.style.top=h.bottom+window.pageYOffset+"px",i.style.display="inline-flex"),f&&(v.style.display="none"))):c||(l.style.display="none",f&&(v.style.display="list-item"),i!==null&&(i.style.display="none"));e=!0}},1)}function at(n){s&&sb_ct(s);var t=window.getSelection().toString();s=sb_st(function(){window.getSelection().toString()==t?v(n):c||(u.style.display="none")},500)}var r=12,o=258,y=62,f=!!navigator.userAgent.match(/iphone|android|blackberry/ig)||!1,it=!!navigator.userAgent.match(/ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP)))/ig)&&!navigator.userAgent.match(/Tablet PC/ig)||!1,p=["www.bing.com","www2.bing.com","www4.bing.com","cn.bing.com","localhost","www.staging-bing-int.com","snrproxy.binginternal.com","snrproxyeast.binginternal.com","snrproxync.binginternal.com","snrproxysc.binginternal.com","snrproxywest.binginternal.com","cetonc.binginternal.com","cetosc.binginternal.com","cetowest.binginternal.com","cetoeast.binginternal.com","akam.bing.com","akam.staging-bing-int.com","ewlmaakam.staging-bing-int.com","akamproxyeast.staging-bing-int.com","akamproxync.staging-bing-int.com","akamproxysc.staging-bing-int.com","akamproxywest.staging-bing-int.com"],t="",e=!0,s=null,u=null,h=null,w=null,l=null,b=null,i=null,a=null,k=null,c=typeof n.isCF=="undefined"?!1:n.isCF,rt=typeof n.isCursor=="undefined"?!1:n.isCursor,d=typeof n.isQuickChat=="undefined"?!1:n.isQuickChat,g=typeof n.isQuickChatNewWindow=="undefined"?!1:n.isQuickChatNewWindow,ut=_ge("b_header"),ft=document.getElementsByClassName("b_underSearchbox")[0],et=_ge("b_tween"),ot=document.getElementsByClassName("b_rs")[0],st=document.getElementsByClassName("b_pag")[0],ht=_ge("b_footer"),ct=_ge("ev_talkbox_wrapper"),lt=_ge("bnp_container"),nt=_ge("b_sydTigerCont"),tt=[ut,ft,et,ot,st,ht,ct,lt];nt&&tt.push(nt);c||(u=sj_ce("a","qs_searchBox"),h=sj_ce("div","qs_searchBoxOuter"),w=sj_ce("div","qs_selectedText"),l=sj_ce("div","qs_searchIconOuter"),b=sj_ce("span","qs_searchIconInner"),sj_be(u,"click",function(){p.indexOf(_w.location.hostname)!=-1&&(_w.open(_w.location.protocol+"//"+_w.location.hostname+"/search?q="+encodeURIComponent(t)+"&form=IPRV10"),Log&&Log.Log&&Log.Log("CI.QuickSearch","New_Webpage_Opened",""),e=!1)}),(d||g)&&(i=sj_ce("a","qs_chatBox"),a=sj_ce("div","qs_chatIconOuter"),k=sj_ce("span","qs_chatIconInner"),a.appendChild(k),i.appendChild(a),h.appendChild(i)),d?sj_be(i,"click",function(){sj_evt.fire("showSydFSC",t);e=!1;Log&&Log.Log&&Log.Log("CI.QuickChat","Quick_Conversation_Mode_Opened",t)}):g&&sj_be(i,"click",function(){if(p.indexOf(_w.location.hostname)!=-1){var n=t,i=_w.open(_w.location.protocol+"//"+_w.location.hostname+"/search?q="+encodeURIComponent(t)+"&form=IPRV10&seltone=b");setTimeout(function(){var t;(t=i.sj_evt)===null||t===void 0?void 0:t.fire("showSydFSC",n)},800);e=!1;Log&&Log.Log&&Log.Log("CI.QuickChat","Quick_Conversation_Mode_Opened_New",n)}}),l.appendChild(b),u.appendChild(w),u.appendChild(l),h.appendChild(u),_d.body.appendChild(h));f||it?_d.addEventListener("selectionchange",at):(_d.addEventListener("mouseup",v),_d.addEventListener("keyup",v))})(QuickSearch||(QuickSearch={}))